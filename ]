#include "doors.h"
#include "collision.h"

Door::Door() {
    open = false;
};
Door::~Door() {};

void Door::update(const Collider &player) {

    BoundingBox player_bb = {
        {player.pos.x - player.size.x / 2, player.pos.y - player.size.y / 2, player.pos.z - player.size.z / 2},
        {player.pos.x + player.size.x / 2, player.pos.y + player.size.y / 2, player.pos.z + player.size.z / 2},
    };

    DrawBoundingBox(player_bb, YELLOW);

    BoundingBox trigger_bb = {

    };

    DrawBoundingBox(trigger_bb, GREEN);

    if (CheckCollisionBoxes(player_bb, trigger_bb)) {
        open = true;
    }

    if (open) {
        collider_b.outline_color = PURPLE;
    }
}

void Door::draw() {

    collider_a.draw();
    collider_b.draw();

    DrawCubeWiresV(open_trigger.pos, open_trigger.size, ORANGE);
}
